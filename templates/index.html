{% extends "base.html" %}

{% block title %}–ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –õ–∞–≥—Ä–∞–Ω–∂–∞ - –ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}
<h1>üî¢ –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –õ–∞–≥—Ä–∞–Ω–∂–∞</h1>

<div class="card">
    <h2>üìù –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö</h2>
    <form action="/solve" method="post">
        <label for="task_name">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:</label>
        <input type="text" id="task_name" name="task_name" 
               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞–¥–∞—á–∞ 1" value="{{ task_name | default('–ó–∞–¥–∞—á–∞ 1') }}">
        
        <label for="points">–¢–æ—á–∫–∏ (—Ñ–æ—Ä–º–∞—Ç: x,y –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ):</label>
        <textarea id="points" name="points" placeholder="6,-12&#10;14,6&#10;16,8">{{ points | default('') }}</textarea>
        <div class="hint">–ö–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏, x –∏ y —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é</div>
        
        <label for="target_x">–ù–∞–π—Ç–∏ Y –ø—Ä–∏ X = </label>
        <input type="number" id="target_x" name="target_x" 
               step="0.1" placeholder="12" value="{{ target_x | default(12) }}">
        
        <button type="submit" class="btn">üöÄ –†–µ—à–∏—Ç—å</button>
        <button type="button" class="btn btn-secondary" onclick="clearForm()">–û—á–∏—Å—Ç–∏—Ç—å</button>
    </form>
    
    <h3>üìå –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã (–í–∞—Ä–∏–∞–Ω—Ç 2):</h3>
    <div class="presets">
        <button class="btn btn-purple" onclick="loadPreset(1)">–ó–∞–¥–∞—á–∞ 1</button>
        <button class="btn btn-purple" onclick="loadPreset(2)">–ó–∞–¥–∞—á–∞ 2</button>
        <button class="btn btn-purple" onclick="loadPreset(3)">–ó–∞–¥–∞—á–∞ 3</button>
        <button class="btn btn-purple" onclick="loadPreset(4)">–ó–∞–¥–∞—á–∞ 4</button>
        <button class="btn btn-purple" onclick="loadPreset(5)">–ó–∞–¥–∞—á–∞ 5</button>
    </div>
</div>

<div class="card">
    <h2>‚ÑπÔ∏è –û –º–µ—Ç–æ–¥–µ</h2>
    <p><strong>–ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –õ–∞–≥—Ä–∞–Ω–∂–∞</strong> ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è 
    –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–æ—á–∫–µ –ø–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–º —É–∑–ª–∞–º.</p>
    <ul>
        <li>2 —Ç–æ—á–∫–∏ ‚Üí –ª–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è</li>
        <li>3 —Ç–æ—á–∫–∏ ‚Üí –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è</li>
        <li>N —Ç–æ—á–µ–∫ ‚Üí –º–Ω–æ–≥–æ—á–ª–µ–Ω —Å—Ç–µ–ø–µ–Ω–∏ N-1</li>
    </ul>
</div>

<script>
    const presets = {
        1: { name: "–ó–∞–¥–∞—á–∞ 1", points: "6,-12\n14,6\n16,8", x: 12 },
        2: { name: "–ó–∞–¥–∞—á–∞ 2", points: "2,-5\n14,-0.5", x: 10 },
        3: { name: "–ó–∞–¥–∞—á–∞ 3", points: "12,-4\n18,6", x: 15 },
        4: { name: "–ó–∞–¥–∞—á–∞ 4", points: "6,2\n14,6\n15,8", x: 9 },
        5: { name: "–ó–∞–¥–∞—á–∞ 5", points: "-10,-7.2\n-4,-5\n16,-2", x: 14 }
    };
    
    function loadPreset(num) {
        const p = presets[num];
        document.getElementById('task_name').value = p.name;
        document.getElementById('points').value = p.points;
        document.getElementById('target_x').value = p.x;
    }
    
    function clearForm() {
        document.getElementById('task_name').value = '';
        document.getElementById('points').value = '';
        document.getElementById('target_x').value = '';
    }
</script>
{% endblock %}